# 数据类型转换



## 自动类型转换（隐式）

**特征；**

1. 代码不需要特殊处理

2. 规则，数据类型范围从小到大。数据必须是从小赋值给大数。

   

**示例；**

 ```java
   int i = 19;
   long l = i;
   //这里将会发生隐式数据类型转换。我们将取值范围小的int类型的i赋值给取值范围大的log类型的l。
 ```



## 强制类型转换（显式）

**特征；**

1. 代码需要特殊格式处理不能自动完成。

2. `范围小的类型 范围小的变量 =（范围小的类型）原本范围大的数据。`



**示例；**

```java
// 转换格式； 
// int num = (要转换的类型)100L; 
int num = (int) 100L; //float转int。
```



**注意事项；**

1. 强制类型转换一般不推荐使用，因为有可能发生精度损失、数据溢出。
2. `byte/short/char`这三种类型都可以发生数学运算，例如加法“+”.
3. `byte/short/char`这三种类型在运算的时候，都会被首先提升成为int类型，然后再计算。
4. `boolean`**类型不能发生数据类型转换**



## 内容扩充

对于byte/short/char三种类型来说，如果右侧赋值的数值没有超过范围，那么javac编译器将会自动隐含地为我们补上一个（byte）（short）（char）。

1. .如果没有超过左侧的范围，编译器补上强转。
2. 如果右侧超过了左侧范围，那么直接编译器报错。

----

**编译器的常量优化；**

在给变量进行赋值的时候，如果右侧的表达式当中全都是常量，没有任何变量，那么编译器javac将会直接将若干个常量表达式计算得到结果。

```java
short result=5+8；//等号右边全都是常量，没有任何变量参与运算编译之后，得到的.class字节码文件当中相当于【直接就是】：short result=13；右侧的常量结果数值，没有超过左侧范围，所以正确。
```



> **注意；**
>
> ​	但是，一旦表达式当中有变量参与，那么就不能进行这种优化了。





